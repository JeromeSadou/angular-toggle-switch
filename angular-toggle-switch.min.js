angular.module("toggle-switch",["ng"]).directive("toggleSwitch",["$compile","$translate",function($compile,$translate){return{restrict:"EA",replace:!0,scope:{model:"=",isDisabled:"@",onLabel:"@",offLabel:"@",knobLabel:"@",html:"=",onChange:"&"},template:'<div class="ats-switch" ng-click="toggle()" ng-class="{ \'disabled\': isDisabled }"><div class="switch-animate" ng-class="{\'switch-off\': !model, \'switch-on\': model}"><span class="switch-left"></span><span class="knob"></span><span class="switch-right"></span></div></div>',controller:["$scope",function($scope){$scope.toggle=function(){$scope.isDisabled||($scope.model=!$scope.model),$scope.onChange()}}],compile:function(element,attrs){return attrs.onLabel=angular.isUndefined(attrs.onLabel)?"On":$translate.instant(attrs.onLabel),attrs.offLabel=angular.isUndefined(attrs.offLabel)?"Off":$translate.instant(attrs.offLabel),attrs.knobLabel=angular.isUndefined(attrs.knobLabel)?"Â ":$translate.instant(attrs.knobLabel),angular.isUndefined(attrs.isDisabled)&&(attrs.isDisabled=!1),angular.isUndefined(attrs.html)&&(attrs.html=!1),function(scope,iElement){var bindSpan=function(span,html){span=angular.element(span);var bindAttributeName=html===!0?"ng-bind-html":"ng-bind";span.removeAttr("ng-bind-html"),span.removeAttr("ng-bind"),angular.element(span).hasClass("switch-left")&&span.attr(bindAttributeName,"onLabel"),span.hasClass("knob")&&span.attr(bindAttributeName,"knobLabel"),span.hasClass("switch-right")&&span.attr(bindAttributeName,"offLabel"),$compile(span)(scope,function(cloned){span.replaceWith(cloned)})},bindSwitch=function(iElement,html){angular.forEach(iElement[0].children[0].children,function(span){bindSpan(span,html)})};scope.$watch("html",function(newValue){bindSwitch(iElement,newValue)})}}}}]);